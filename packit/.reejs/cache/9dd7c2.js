/* esm.sh - esbuild bundle(vfile@5.3.7) node production */
import l from"./0273a2.js";import{VFileMessage as g}from"./e20bba.js";import{default as r}from"node:path";import{default as u}from"node:process";import{fileURLToPath as d}from"node:url";function a(i){return i!==null&&typeof i=="object"&&i.href&&i.origin}var h=["history","path","basename","stem","extname","dirname"],p=class{constructor(t){let e;t?typeof t=="string"||w(t)?e={value:t}:a(t)?e={path:t}:e=t:e={},this.data={},this.messages=[],this.history=[],this.cwd=u.cwd(),this.value,this.stored,this.result,this.map;let n=-1;for(;++n<h.length;){let o=h[n];o in e&&e[o]!==void 0&&e[o]!==null&&(this[o]=o==="history"?[...e[o]]:e[o])}let s;for(s in e)h.includes(s)||(this[s]=e[s])}get path(){return this.history[this.history.length-1]}set path(t){a(t)&&(t=d(t)),f(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?r.dirname(this.path):void 0}set dirname(t){c(this.basename,"dirname"),this.path=r.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?r.basename(this.path):void 0}set basename(t){f(t,"basename"),m(t,"basename"),this.path=r.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?r.extname(this.path):void 0}set extname(t){if(m(t,"extname"),c(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=r.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?r.basename(this.path,this.extname):void 0}set stem(t){f(t,"stem"),m(t,"stem"),this.path=r.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,e,n){let s=new g(t,e,n);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}info(t,e,n){let s=this.message(t,e,n);return s.fatal=null,s}fail(t,e,n){let s=this.message(t,e,n);throw s.fatal=!0,s}};function m(i,t){if(i&&i.includes(r.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+r.sep+"`")}function f(i,t){if(!i)throw new Error("`"+t+"` cannot be empty")}function c(i,t){if(!i)throw new Error("Setting `"+t+"` requires `path` to be set too")}function w(i){return l(i)}export{p as VFile};
//# sourceMappingURL=vfile.mjs.map