/* esm.sh - esbuild bundle(mdast-util-mdx-jsx@2.1.4) node production */
import{ccount as S}from"./19d031.js";import{parseEntities as q}from"./0e1d77.js";import{stringifyPosition as C}from"./c81b5e.js";import{VFileMessage as M}from"./e20bba.js";import{stringifyEntitiesLight as O}from"./c0360d.js";import{containerPhrasing as U}from"./b672a0.js";import{indentLines as _}from"./508e8d.js";import{track as N}from"./64e25d.js";var z="  ";function W(){return{canContainEols:["mdxJsxTextElement"],enter:{mdxJsxFlowTag:x,mdxJsxFlowTagClosingMarker:m,mdxJsxFlowTagAttribute:g,mdxJsxFlowTagExpressionAttribute:h,mdxJsxFlowTagAttributeValueLiteral:r,mdxJsxFlowTagAttributeValueExpression:r,mdxJsxFlowTagSelfClosingMarker:f,mdxJsxTextTag:x,mdxJsxTextTagClosingMarker:m,mdxJsxTextTagAttribute:g,mdxJsxTextTagExpressionAttribute:h,mdxJsxTextTagAttributeValueLiteral:r,mdxJsxTextTagAttributeValueExpression:r,mdxJsxTextTagSelfClosingMarker:f},exit:{mdxJsxFlowTagClosingMarker:b,mdxJsxFlowTagNamePrimary:o,mdxJsxFlowTagNameMember:a,mdxJsxFlowTagNameLocal:w,mdxJsxFlowTagExpressionAttribute:T,mdxJsxFlowTagExpressionAttributeValue:n,mdxJsxFlowTagAttributeNamePrimary:J,mdxJsxFlowTagAttributeNameLocal:F,mdxJsxFlowTagAttributeValueLiteral:d,mdxJsxFlowTagAttributeValueLiteralValue:n,mdxJsxFlowTagAttributeValueExpression:A,mdxJsxFlowTagAttributeValueExpressionValue:n,mdxJsxFlowTagSelfClosingMarker:k,mdxJsxFlowTag:c,mdxJsxTextTagClosingMarker:b,mdxJsxTextTagNamePrimary:o,mdxJsxTextTagNameMember:a,mdxJsxTextTagNameLocal:w,mdxJsxTextTagExpressionAttribute:T,mdxJsxTextTagExpressionAttributeValue:n,mdxJsxTextTagAttributeNamePrimary:J,mdxJsxTextTagAttributeNameLocal:F,mdxJsxTextTagAttributeValueLiteral:d,mdxJsxTextTagAttributeValueLiteralValue:n,mdxJsxTextTagAttributeValueExpression:A,mdxJsxTextTagAttributeValueExpressionValue:n,mdxJsxTextTagSelfClosingMarker:k,mdxJsxTextTag:c}};function r(){this.buffer()}function n(t){this.config.enter.data.call(this,t),this.config.exit.data.call(this,t)}function x(t){let e={name:void 0,attributes:[],close:!1,selfClosing:!1,start:t.start,end:t.end};this.getData("mdxJsxTagStack")||this.setData("mdxJsxTagStack",[]),this.setData("mdxJsxTag",e),this.buffer()}function m(t){if(this.getData("mdxJsxTagStack").length===0)throw new M("Unexpected closing slash `/` in tag, expected an open tag first",{start:t.start,end:t.end},"mdast-util-mdx-jsx:unexpected-closing-slash")}function u(t){if(this.getData("mdxJsxTag").close)throw new M("Unexpected attribute in closing tag, expected the end of the tag",{start:t.start,end:t.end},"mdast-util-mdx-jsx:unexpected-attribute")}function f(t){if(this.getData("mdxJsxTag").close)throw new M("Unexpected self-closing slash `/` in closing tag, expected the end of the tag",{start:t.start,end:t.end},"mdast-util-mdx-jsx:unexpected-self-closing-slash")}function b(){let t=this.getData("mdxJsxTag");t.close=!0}function o(t){let e=this.getData("mdxJsxTag");e.name=this.sliceSerialize(t)}function a(t){let e=this.getData("mdxJsxTag");e.name+="."+this.sliceSerialize(t)}function w(t){let e=this.getData("mdxJsxTag");e.name+=":"+this.sliceSerialize(t)}function g(t){let e=this.getData("mdxJsxTag");u.call(this,t),e.attributes.push({type:"mdxJsxAttribute",name:"",value:null})}function h(t){let e=this.getData("mdxJsxTag");u.call(this,t),e.attributes.push({type:"mdxJsxExpressionAttribute",value:""}),this.buffer()}function T(t){let e=this.getData("mdxJsxTag"),s=e.attributes[e.attributes.length-1],i=t.estree;s.value=this.resume(),i&&(s.data={estree:i})}function J(t){let e=this.getData("mdxJsxTag"),s=e.attributes[e.attributes.length-1];s.name=this.sliceSerialize(t)}function F(t){let e=this.getData("mdxJsxTag"),s=e.attributes[e.attributes.length-1];s.name+=":"+this.sliceSerialize(t)}function d(){let t=this.getData("mdxJsxTag");t.attributes[t.attributes.length-1].value=q(this.resume(),{nonTerminated:!1})}function A(t){let e=this.getData("mdxJsxTag"),s=e.attributes[e.attributes.length-1],i={type:"mdxJsxAttributeValueExpression",value:this.resume()},l=t.estree;l&&(i.data={estree:l}),s.value=i}function k(){let t=this.getData("mdxJsxTag");t.selfClosing=!0}function c(t){let e=this.getData("mdxJsxTag"),s=this.getData("mdxJsxTagStack"),i=s[s.length-1];if(e.close&&i.name!==e.name)throw new M("Unexpected closing tag `"+p(e)+"`, expected corresponding closing tag for `"+p(i)+"` ("+C(i)+")",{start:t.start,end:t.end},"mdast-util-mdx-jsx:end-tag-mismatch");this.resume(),e.close?s.pop():this.enter({type:t.type==="mdxJsxTextTag"?"mdxJsxTextElement":"mdxJsxFlowElement",name:e.name||null,attributes:e.attributes,children:[]},t,v),e.selfClosing||e.close?this.exit(t,D):s.push(e)}function v(t,e){let s=this.getData("mdxJsxTag"),i=t?" before the end of `"+t.type+"`":"",l=t?{start:t.start,end:t.end}:void 0;throw new M("Expected a closing tag for `"+p(s)+"` ("+C({start:e.start,end:e.end})+")"+i,l,"mdast-util-mdx-jsx:end-tag-mismatch")}function D(t,e){let s=this.getData("mdxJsxTag");throw new M("Expected the closing tag `"+p(s)+"` either after the end of `"+e.type+"` ("+C(e.end)+") or another opening tag after the start of `"+e.type+"` ("+C(e.start)+")",{start:t.start,end:t.end},"mdast-util-mdx-jsx:end-tag-mismatch")}function p(t){return"<"+(t.close?"/":"")+(t.name||"")+">"}}function B(r){let n=r||{},x=n.quote||'"',m=n.quoteSmart||!1,u=n.tightSelfClosing||!1,f=n.printWidth||Number.POSITIVE_INFINITY,b=x==='"'?"'":'"';if(x!=='"'&&x!=="'")throw new Error("Cannot serialize attribute values with `"+x+"` for `options.quote`, expected `\"`, or `'`");return o.peek=R,{handlers:{mdxJsxFlowElement:o,mdxJsxTextElement:o},unsafe:[{character:"<",inConstruct:["phrasing"]},{atBreak:!0,character:"<"}],fences:!0,resourceLink:!0};function o(a,w,g,h){let T=a.type==="mdxJsxFlowElement",J=a.name?!a.children||a.children.length===0:!1,F=I(g),d=j(F),A=N(h),k=N(h),c=[],v=(T?d:"")+"<"+(a.name||""),D=g.enter(a.type);if(A.move(v),k.move(v),a.attributes&&a.attributes.length>0){if(!a.name)throw new Error("Cannot serialize fragment w/ attributes");let i=-1;for(;++i<a.attributes.length;){let l=a.attributes[i],V;if(l.type==="mdxJsxExpressionAttribute")V="{"+(l.value||"")+"}";else{if(!l.name)throw new Error("Cannot serialize attribute w/o name");let E=l.value,P=l.name,y="";if(E!=null)if(typeof E=="object")y="{"+(E.value||"")+"}";else{let L=m&&S(E,x)>S(E,b)?b:x;y=L+O(E,{subset:[L]})+L}V=P+(y?"=":"")+y}c.push(V)}}let p=!1,t=c.join(" ");T&&(/\r?\n|\r/.test(t)||A.current().now.column+t.length+(J?u?2:3:1)>f)&&(p=!0);let e=A,s=v;if(p){e=k;let i=-1;for(;++i<c.length;)c[i]=d+z+c[i];s+=e.move(`
`+c.join(`
`)+`
`+d)}else t&&(s+=e.move(" "+t));return J&&(s+=e.move((u||p?"":" ")+"/")),s+=e.move(">"),a.children&&a.children.length>0&&(a.type==="mdxJsxTextElement"?s+=e.move(U(a,g,{...e.current(),before:">",after:"<"})):(e.shift(2),s+=e.move(`
`),s+=e.move(Q(a,g,e.current())),s+=e.move(`
`))),J||(s+=e.move((T?d:"")+"</"+(a.name||"")+">")),D(),s}}function Q(r,n,x){let m=n.indexStack,u=r.children,f=n.createTracker(x),b=j(I(n)),o=[],a=-1;for(m.push(-1);++a<u.length;){let w=u[a];m[m.length-1]=a;let g={before:`
`,after:`
`,...f.current()},h=n.handle(w,r,n,g),T=w.type==="mdxJsxFlowElement"?h:_(h,function(J,F,d){return(d?"":b)+J});o.push(f.move(T)),w.type!=="list"&&(n.bulletLastUsed=void 0),a<u.length-1&&o.push(f.move(`

`))}return m.pop(),o.join("")}function I(r){let n=0;for(let x of r.stack)x==="mdxJsxFlowElement"&&n++;return n}function j(r){return z.repeat(r)}function R(){return"<"}export{W as mdxJsxFromMarkdown,B as mdxJsxToMarkdown};
//# sourceMappingURL=mdast-util-mdx-jsx.mjs.map