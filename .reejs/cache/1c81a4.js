/* esm.sh - esbuild bundle(mdast-util-gfm-table@1.0.7) node production */
import{containerPhrasing as k}from"./0f2082.js";import{inlineCode as D}from"./5ada08.js";import{markdownTable as R}from"./785186.js";var v={enter:{table:M,tableData:g,tableHeader:g,tableRow:y},exit:{codeText:A,table:_,tableData:u,tableHeader:u,tableRow:u}};function M(e){let l=e._align;this.enter({type:"table",align:l.map(c=>c==="none"?null:c),children:[]},e),this.setData("inTable",!0)}function _(e){this.exit(e),this.setData("inTable")}function y(e){this.enter({type:"tableRow",children:[]},e)}function u(e){this.exit(e)}function g(e){this.enter({type:"tableCell",children:[]},e)}function A(e){let l=this.resume();this.getData("inTable")&&(l=l.replace(/\\([\\|])/g,B));let c=this.stack[this.stack.length-1];c.value=l,this.exit(e)}function B(e,l){return l==="|"?l:e}function P(e){let l=e||{},c=l.tableCellPadding,T=l.tablePipeAlign,m=l.stringLength,b=c?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:C,tableRow:p,tableCell:h,inlineCode:x}};function C(t,r,a,n){return d(w(t,a,n),t.align)}function p(t,r,a,n){let i=f(t,a,n),o=d([i]);return o.slice(0,o.indexOf(`
`))}function h(t,r,a,n){let i=a.enter("tableCell"),o=a.enter("phrasing"),s=k(t,a,{...n,before:b,after:b});return o(),i(),s}function d(t,r){return R(t,{align:r,alignDelimiters:T,padding:c,stringLength:m})}function w(t,r,a){let n=t.children,i=-1,o=[],s=r.enter("table");for(;++i<n.length;)o[i]=f(n[i],r,a);return s(),o}function f(t,r,a){let n=t.children,i=-1,o=[],s=r.enter("tableRow");for(;++i<n.length;)o[i]=h(n[i],t,r,a);return s(),o}function x(t,r,a){let n=D(t,r,a);return a.stack.includes("tableCell")&&(n=n.replace(/\|/g,"\\$&")),n}}export{v as gfmTableFromMarkdown,P as gfmTableToMarkdown};
//# sourceMappingURL=mdast-util-gfm-table.mjs.map